# Gatling Configuration for Dungeon Game Stress Tests

gatling {
  core {
    outputDirectoryBaseName = "dungeon-game"
    runDescription = "Dungeon Game API Stress Tests"
    encoding = "utf-8"
    simulationClass = ""
    
    extract {
      regex {
        cacheMaxCapacity = 200
      }
      xpath {
        cacheMaxCapacity = 200
      }
      jsonPath {
        cacheMaxCapacity = 200
        preferJackson = false
      }
      css {
        cacheMaxCapacity = 200
      }
    }
  }
  
  http {
    fetchedCssCacheMaxCapacity = 200
    fetchedHtmlCacheMaxCapacity = 200
    perUserCacheMaxCapacity = 200
    warmUpUrl = "http://localhost:8080/api/dungeon/health"
    enableGA = false
    
    ssl {
      useOpenSsl = true
      useOpenSslFinalizers = false
      handshakeTimeout = 10000
      useInsecureTrustManager = false
      enabledProtocols = []
      enabledCipherSuites = []
      sessionCacheSize = 0
      sessionTimeout = 0
    }
    
    requestTimeout = 60000
    enableHostnameVerification = false
  }
  
  data {
    readers = [
      {
        type = "file"
        path = ""
        charset = "utf-8"
      }
    ]
    
    writers = [
      {
        type = "console"
      },
      {
        type = "file"
      },
      {
        type = "graphite"
        light = false
        host = "localhost"
        port = 2003
        protocol = "tcp"
        rootPathPrefix = "gatling"
        bufferSize = 8192
        writePeriod = 1
      }
    ]
  }
  
  charting {
    noReports = false
    maxPlotPerSeries = 1000
    useGroupDurationMetric = false
    indicators {
      lowerBound = 800
      higherBound = 1200
      percentile1 = 50
      percentile2 = 75
      percentile3 = 95
      percentile4 = 99
    }
  }
}
